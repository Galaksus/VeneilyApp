<!DOCTYPE html>
<html>

<head>
    <title>Leaflet Map</title>
    <link rel="stylesheet" href="stylesheet.css">
    <link rel="stylesheet" href="dialogs.css">
    <link rel="stylesheet" href="nameDialog.css">
    <link rel="stylesheet" href="bottomBarStyles.css">

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

</head>

<body>
    <div id="map-container">
        <div id="map"></div>

        <img src="icons/settings-icon.svg" id="settings-icon-button">
        <img src="icons/bluetooth-icon-black.svg" id="bluetooth-icon">
        <img src="icons/delete-icon.svg" id="delete-draggable-marker" class="center-div" style="display: none;">

        <div class="gradient-element">
            <div class="svg-button" onclick="openDialog(document.getElementById('menu-dialog'))">
              <img class="svg-image" src="icons/menu-icon.svg" alt="Menu Icon">
              <p class="menu-text">Menu</p>
            </div>
            <div class="svg-button" id="new-route-button" onclick="NewRouteButtonFunction()">
              <img class="svg-image"src="icons/new-black.svg" alt="New route">
              <p class="menu-text" id="new-route-text"> New route</p>
            </div>


            <div class="svg-button" id="routes-select-container">
                <img class="svg-image" src="icons/old-routes.svg" alt="Old routes Icon">
                <p class="menu-text">My routes</p>
              </div>

              <div class="svg-button" id="delete-button" style="display: none;">
                <img class="svg-image" src="icons/delete-icon.svg" alt="Delete Icon">
                <p class="menu-text">Delete route</p>
              </div>

            <div class="svg-button" id="center-me-button"> 
              <img class="svg-image" id="center-me-button-src" src="icons/center-me-normal.svg" alt="Delete Icon">
              <p class="menu-text">Center</p>
            </div>
        
            <div class="svg-button default-display-none default-pointerEvent-none" id="save-button" onclick="SaveButtonFunction()">
              <img class="svg-image-2" src="icons/save.svg" alt="Save Icon">
              <p class="menu-text">Save</p>
            </div>
        

            <div class="svg-button default-display-none default-pointerEvent-none" id="draw-button" onclick="DrawButtonFunction()">
                <img class="svg-image" src="icons/route-type-path.svg" alt="Route type Icon">
                <p class="menu-text"id="path-type">Type: path</p>
              </div>

        
            <div class="svg-button default-display-none" onclick="RevertButtonFunction()">
              <img class="svg-image-2" src="icons/revert.svg" alt="Revert Icon">
              <p class="menu-text">Revert</p>
            </div>
          </div>

    <!-- Routes select dropdown dialog -->
    <div id="dropdown-dialog" class="default-dialog" onclick="closeDialog(this);">
        <div class="dialog-container" onclick="event.stopPropagation();">
            <!-- Header content -->
            <div class="dialog-header-content">
                Select a route
                <span class="close-dialog-button"
                onclick="closeDialog(document.getElementById('dropdown-dialog'))">&#10006;</span>
            </div>
            <div class="dialog-content" id="dropdown-dialog-content">
            </div>
            <div id="ok-button-container">
                <button class="button-class border-radius-20px" id="select-ok-button">OK</button>
            </div>
        </div>
        
    </div>

    <!-- The 'Are you sure' dialog container -->
    <div id="are-you-sure-dialog" class="default-dialog" onclick="closeDialog(this);">
        <div class="dialog-container" onclick="event.stopPropagation();">
            <!-- Header content -->
            <div class="dialog-header-content">
                Are you sure you want to delete this route?
                <span class="close-dialog-button"
                onclick="closeDialog(document.getElementById('are-you-sure-dialog'))">&#10006;</span>
            </div>
            <div class="dialog-content">
                <!-- Input and buttons container -->
                <div class="input-buttons-container-class" id="input-buttons-container">
                    <div class="name-buttons-class name-buttons-class-2">
                        <button class="dialog-ok-cancel-buttons" onclick="cancelClickOnAreYouSurePrompt()">Cancel</button>
                        <button class="dialog-ok-cancel-buttons" onclick="OKClickOnAreYouSurePrompt()">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- The bluetooth dialog container -->
    <div id="bluetooth-dialog" class="default-dialog" onclick="closeDialog(this);">
        <div class="dialog-container" onclick="event.stopPropagation();">
            <!-- Header content -->
            <div class="dialog-header-content">
                Bluetooth
                <span class="close-dialog-button"
                onclick="closeDialog(document.getElementById('bluetooth-dialog'))">&#10006;</span>
            </div>
            <div class="dialog-content">
                <div id="bluetooth-connection-state" Type>
                    <span id="connection-state-text"> </span>
                </div>
                <div class="center-div">
                    <button id="connect-bluetooth-button" class="button-class border-radius-20px">Connect</button>
                </div>
            </div>
        </div>
    </div>
        <!-- The dialog container -->
        <div id="settings-dialog" class="default-dialog" onclick="closeDialog(this);">
            <div class="dialog-container" onclick="event.stopPropagation();">
                <!-- Header content -->
                <div class="dialog-header-content">
                    Settings
                    <span class="close-dialog-button"
                        onclick="closeDialog(document.getElementById('settings-dialog'))">&#10006;</span>
                </div>
                <!-- Scrollable dialog content -->
                <div class="dialog-content">
                    <!-- scrollable content -->
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit....</p>
                    <div class="center-div">
                        <button id="save-settings-button" class="button-class border-radius-20px">Save settings</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- The menu dialog container -->
        <div id="menu-dialog" class="default-dialog" onclick="closeDialog(this)">
            <div class="dialog-container" onclick="event.stopPropagation();">
                <!-- Header content -->
                <div class="dialog-header-content" id="menu-header-content">
                    Manual mode
                    <span class="close-dialog-button"
                        onclick="closeDialog(document.getElementById('menu-dialog'))">&#10006;</span>
                    <!-- &#10006; means "x" symbol -->
                </div>
                <!-- Scrollable dialog content -->
                <div class="enabled" id="menu-dialog-content-manual-mode">
                    <!-- scrollable content -->
                    <div class="align-text">
                        <p>Motor speed control</p>
                    </div>
                    <div class="slider-container">
                        <output for="manual-motor-speed-slider" id="manual-motor-speed-slider-value">50</output>
                        <input type="range" class="range-slider" min="0" max="100" value="50"
                            id="manual-motor-speed-slider">
                    </div>
                    <img src="icons/minus-icon.svg" id="minus-svg-icon-speed" width="24" height="24"
                        onclick="rangeSliderArithmetic(this, false);">
                    <img src="icons/plus-icon.svg" id="plus-svg-icon-speed" width="24" height="24"
                        onclick="rangeSliderArithmetic(this, true);">

                    <hr id="line-1" color="gray" size="2">

                    <div class="align-text">
                        <p>Motor steering control</p>
                    </div>
                    <div class="slider-container">
                        <output for="manual-steering-slider" id="manual-steering-slider-value">50</output>
                        <input type="range" class="range-slider" min="0" max="100" value="50"
                            id="manual-steering-slider">
                    </div>
                    <img src="icons/minus-icon.svg" id="minus-svg-icon-steering" width="24" height="24"
                        onclick="rangeSliderArithmetic(this, false);">
                    <img src="icons/plus-icon.svg" id="plus-svg-icon-steering" width="24" height="24"
                        onclick="rangeSliderArithmetic(this, true);">
                    <button id="lock-direction-button" class="button-class  border-radius-20px">Lock direction</button>
                    <div id="lock-direction-text" class="align-text" style="display: none;">
                        <p>Current direction is now locked</p>
                    </div>
                </div>
                <!-- Auto mode-->
                <div id="menu-dialog-content-auto-mode" style="display: none;">
                    <!-- scrollable content -->
                    <div class="auto-mode-info-data">
                        <p id="auto-mode-selected-route"> Selected route:</p>
                        <span class="margin-left-5" id="dynamicText-route-name"> </span>
                    </div>
                    <hr width="100%" />
                    <div class="auto-mode-info-data">
                        <p>Type: </p>
                        <span class="margin-left-5" id="dynamicText-type"> </span>
                    </div>
                    <div class="auto-mode-info-data">
                        <p>Total length: </p>
                        <span class="margin-left-5" id="dynamicText-total-length"> </span>
                    </div>
                    <div class="auto-mode-info-data">
                        <p>Checkpoints: </p>
                        <span class="margin-left-5" id="dynamicText-checkpoints"> </span>
                    </div>
                    <!-- Not implemented yet (Not the most necessary thing :D)
                     <div class="auto-mode-info-data">
                        <p>Completed: </p>
                        <span id="dynamicText-completed"> moi</span>
                    </div> -->
                    <div class="center-div">
                        <button id="start-route-button" class="button-class border-radius-20px">Start</button>
                    </div>
                    <div id="start-route-text" class="align-text" style="display: none; color: green;">
                        <p>Route started</p>
                    </div>
                </div>
                <div id="bottom-bar-content">
                    <img src="icons/right-arrow.svg" id="menu-dialog-right-arrow" width="40" height="40">
                    <img src="icons/left-arrow.svg" id="menu-dialog-left-arrow" width="40" height="40">


                </div>
            </div>
        </div>
    </div>
    <div id="overlay" class="hidden"></div>
    <!-- The name dialog container -->
    <div id="name-dialog" onclick="closeDialog(this);">
        <div id="name-dialog-container" onclick="event.stopPropagation();">
            <!-- Header content -->
            <div id="name-header-content">
                Enter a name
            </div>
            <!-- Input and buttons container -->
            <div class="input-buttons-container-class">
                <input type="text" id="name-input" placeholder="Name" />
                <div class="name-buttons-class">
                    <button class="dialog-ok-cancel-buttons" id="name-cancel-button">Cancel</button>
                    <button class="dialog-ok-cancel-buttons" id="name-ok-button">OK</button>
                </div>
            </div>
        </div>
    </div>
    <script src="route.js"></script>
    <script src="dialogs.js"></script>
    <script src="readDb.js"></script>
    <script src="deleteRouteFromDb.js"></script>
    <script src="nameDialog.js"></script>
    <script src="LocationOrientation.js"></script>
    <script src="styles.js"></script>


    </div>
</body>

</html>